---
title: Operating System Note
date: 2021-03-30 12:58:25
updated: 2020-03-30 12:58:25
categories: [tech]
---

### 操作系统

```
-名词解释（10分）
-填空题（10分）
-判断题（5分）
-简答题（15分）
-设计题（PV操作题10分）
```

#### 往年考点汇集

##### 名词解释

```
system call:系统调用为操作系统与用户编程时使用的接口。

dead lock:死锁，系统中的一组进程，该组中存在这样的进程，拥有系统资源，且无限等待该组中的其他进程释放资源。

PCB：进程控制模块，系统中记录进程信息并控制进程而设置的专门的数据结构。

critical section：临界区，访问临界资源的那段代码被称为临界区。

外部碎片：内存中因分配资源而剩下的一部分较小且不能被利用的空间。

信号量：信号量是表示资源的实体，是一个与队列有关的整型变量， 其值仅能由P、V操作来改变。


```

##### 填空题

```
操作系统的特征：并发，共享，虚拟，异步。
死锁的必要条件：互斥条件（排他性控制），不剥夺条件，请求并保持条件，循环等待条件。
进程间的通信方式：共享存储，消息传递，管道通信。
使用P操作会使进程进入阻塞状态，使用V操作会使进程进入就绪状态。
TLB(Translation Lookaside Buffer)快表是指处理机在访问内存数据时作地址变换。
I/O方式与主存间的通信方式包括中断，DMA控制方式，通道。
设备独立性是指应用程序独立于具体的物理设备。
文件的逻辑结构中，索引顺序存取既可以随机存取又可以顺序存取。
磁盘存储器空闲存储空间的常用管理方法有：空闲表法，空闲链表法和位示图。
实现虚拟存储器的理论基础是局部性原理。
活动头磁盘的访问时间包括寻道时间（一般最长）、旋转等待（延迟）时间和传输时间。
操作系统中的进程是由程序段、数据和 程序控制块PCB 三部分组成的。
文件存储空间的分配方式:连续分配，链接分配,和索引分配。
虚拟存储技术（或请求分页、请求分段、请求段页式）技术允许一个进程局部装入内存就可以开始运行。
采用多道程序设计技术和分时技术使得CPU和I/O设备并行工作来提高系统性能。
现代操作系统的两个最基本的特征是并行性和共享性。
常用的文件访问方式有两种:顺序访问（磁带）和直接访问（磁盘）。

```

##### 简答题

```
1.为什么要分页？分页需要哪些硬件支持？如何使用分页实现虚拟存储？虚拟存储需要哪些硬件支持？
请求分页管理机制，请求分页可以实现虚拟存储，只需要将当前所需的页面放入内存即可，利用请求调页和页面置换可以实现虚拟存储。需要的硬件支持：页表机制，缺页中断机构，地址变换机构。
2.为什么要分用户态和核心态，什么时候从用户态转换为核心态？
为了保护系统程序和数据不受应用程序的破坏，中断产生时发生转换。
3.进程和线程，及其相同之处与区别
进程是具有一定功能的程序关于某个数据集合上的一次运行活动，进程是系统进行资源调度和分配的一个独立单位。
线程是进程的实体，是CPU调度和分派的基本单位，它是比进程更小的能独立运行的基本单位。
一个进程可以有多个线程，多个线程也可以并发执行。
4.进程间的通信方式有哪些？
共享内存就是映射一段能被其它进程访问的内存，这段共享内存由一个进程创建，但是多个进程可以访问。
消息传递，消息队列是消息的链表，存放在内核中并由消息队列标识符标识。
管道通信是一种半双工的通信方式，数据只能单项流动，并且只能在具有亲缘关系的进程间流动。
5.进程的状态有哪些？
就绪状态：进程已获得除处理机以外的所需资源，等待分配处理机资源。
运行状态：占用处理机资源运行。
阻塞状态：进程等待某种(除了处理机之外的资源的)条件，在条件满足之前无法执行。
6.线程同步的方式有哪些？
线程同步的概念：所谓同步，就是并发的线程在一些关键点上可能需要互相等待与互通信息，这种相互制约的等待与互通信息称为进程同步。
互斥量：采用互斥对象机制，只有拥有互斥对象的线程才有访问公共资源的权限。因为互斥对象只有一个，所以可以保证公共资源不会被多个线程同时访问。
信号量：它允许同一时刻多个线程访问同一资源，但是需要控制同一时刻访问此资源的最大线程数量。
事件（信号）：通过通知操作的方式来保持多线程同步，还可以方便的实现多线程优先级的比较操作。
7.死锁产生的条件
互斥条件：一个资源一次只能被一个进程使用
请求与保持(占有并申请)条件：一个进程因请求资源而阻塞时，对已获得资源保持不放
不剥夺条件：进程获得的资源，在未完全使用完之前，不能强行剥夺。
循环等待条件：若干进程之间形成一种头尾相接的环形等待资源关系。
8.分段和分页的概念
段是信息的逻辑单位，它是根据用户的需要划分的，因此段对用户是可见的 ；页是信息的物理单位，是为了管理主存的方便而划分的，对用户是透明的。
段的大小不固定，有它所完成的功能决定；页大大小固定，由系统决定（一般为4k）
段是信息的逻辑单位，便于存储保护和信息的共享，页的保护和共享受到限制。
9.中断和系统调用
所谓的中断就是在计算机执行程序的过程中，由于出现了某些特殊事情，使得CPU暂停对程序的执行，转而去执行处理这一事件的程序。等这些特殊事情处理完之后再回去执行之前的程序。
程序的执行一般是在用户态下执行的，但当程序需要使用操作系统提供的服务时，就需要向操作系统发出调用服务的请求，这就是系统调用。
10.地址变换过程
进程访问某个逻辑地址的数据
由逻辑地址的页号(3)，以及页表寄存器中的始址，找到页表并找到对应的页表项(3)
由页表项上的块号，找到物理内存中的块号
由块号，加上逻辑地址的页内地址，实现了对物理地址数据的定位
进程访问该逻辑地址对应的物理地址的数据
11.什么是文件目录？文件目录中包含哪些信息？常用的目录结构形式有哪几种？
文件目录记录文件的管理信息，也称文件控制块FCB（File Control Block，FCB）
文件基本信息（结构信息，包括文件名，逻辑结构，物理结构）
文件的存取控制信息（文件的存取权限）
文件的使用信息（如文件建立时间，修改时间等）
12.简述避免死锁的银行家算法中的安全检测算法的思想。
设置两个向量：
Free:是一个纵向量,表示系统空闲的各类资源数 
Finish：是一个纵向量，表示进程能否得到全部资源使之运行完成
执行安全算法开始时：
      Free = Available，Finish[i]:=false（i=1,2,…,n）  
  （1）从进程集中找一个能满足下述条件的进程Pi
     ① Finish[i] = false(未定)       ② Need[i] <= Free (资源够分)
（2）当Pi获得资源后，认为它完成，回收资源:
         Free = Free + Allocation[i] ；  Finish[i] = true ；
         Go to step（1）；
若Finish[1…n]=true，则系统是安全的，可以实施分配，否则系统不安全，撤销分配。

```

**带快表的请求分页存储管理方案**

**![img](/images/TLB.png)**

1．判断是否越界，若是，则中断，否则，继续。

2．查找快表，若找着页表项，则修改访问位等，形成物理地址，结束。否则， 继续

3．查找页表，若找着页表项，则修改访问位等，形成物理地址，结束。否则，产成缺页中断，继续

4．若内存不满，则将找着的页从外存调入内存。否则，置换一页出内存，然后将找着的页从外存调入内存

5．修改页表